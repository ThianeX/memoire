为了避免汉语自动分词过程中出现切分盲点,切分的基础应该是全切分算法。通过把整个分词过程分解为若干子过程,实现多步处理策略,从而解决了某些特殊的分词问题。图1表示多步处理策略的自动分词实现流程。切分歧义中最常见的一类歧义是交集歧义,但有许多交集歧义属于伪歧义。所谓伪歧义是指包含交集歧义但实际文本中只能有或几乎只有一种切分可能的字段。我们采用查表的方式直接确定分词形式,而不再参与后续的分词处理过程。例如:“办法规定”,实际文本中的切分形式一般就是“办法/规定”,其中的“法规”很难成为一个词。这样,通过查伪歧义表,某些切分形式一开始就决定了。大规模的统计表明4000多个列表项可以覆盖全部交叉歧义的53.35%。在流程中,首先使用全切分算法给出一个汉语句子的所有可能的切分方式,即任何匹配词典中词的字串都被加入到全切分结果集合当中。这样,就保证了句子中任何可能的切分结果都不会被后续处理所遗漏。全切分完成后,某些切分结果(即出现在词典中的词)具有特殊的词性,不会与其他词产生交叉切分歧义,因而很容易被首先确定下来。这些词性包括成语、惯用语、叹词、语气词等4类。这就是确定性分词处理步骤。实用的汉语分词系统除了要对上述情况予以处理以外,还可以专门建立用户自己定义的辅助词典,把某些满足汉语惯用表达方式的短语(如四字词语)存入其中,一开始就将其切分为一个词。因为在这样的情况下,分开来不易分析,而且常常会出现错误。汉语数词(即一、二、三、百、千、万……)是典型的单字词,数词串就是单字词串。如果句子中出现数词串,有必要首先将其合并,从而减少句子中切分结果的数量,以利于分词过程后续阶段的处理。汉语的重叠现象需要单独处理。因为许多重叠词的存在,会使句子中单个汉字节点增多。如果不合并它们,就会把属于同一词或同一节点的汉字分割开来,可能会使句子的句法结构分析产生错误。所以,需要将重叠部分合并以后再设置相应的标志,有利于后续的句法分析。
整个分词处理过程中的重要部分是未登录词的识别。识别过程采用了统计方法,对句子中出现的单字串进行中国人名、中国地名、外国人名译名或地名译名的识别。统计单个汉字在上述名字中出现的频率,作为识别的依据。最后,少数尚未确定的组合或交叉歧义以及未登录词将在下一步词性标注过程中借助词性信息和上下文信息予以确定。这一过程也称为分词词性标注一体化过程。
整个分词过程的基础是全切分算法。其输出结果是一个句子的所有可能切分的形式,即任何出现在词典中的词都放入全切分列表。例如,对于汉语句子”全切分的结果是一个有向图。”,其全切分结果如图2所示。这是一个有向图,图中的每条弧表示一个切分结果,即一个词典中存在的词。如:“全、切、分、切分”等。全切分算法保证了任何出现在句子中字串如果它属于词典中的一个词,则其必然为有向图中的一个弧。全部分词形式通过词典查询来确定,所有汉语单字(6763个)都包含在词典中看作一个单字词。与词典查询相关的数据结构主要是词典的索引结构,本系统采用两级索引结构。第1级索引是6763个汉字,组织成哈希表形式。第2级索引包括词典中的全部词,其第1个字对应于上述6763个汉字。第2级索引使用二分查找算法。词典的外部存储形式使用Huffman编码。